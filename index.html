<!DOCTYPE HTML>
<html>
<body>
  <script src="https://static.opentok.com/v2/js/opentok.js" charset="utf-8"></script>
  <script charset="utf-8">

  var apiKey = '45633112';
  var sessionId = '2_MX40NTYzMzExMn5-MTQ3MDU4NTA4NTA0N35NeFAwNGdNazhvRVd1VE5ZL3ZJeUtlNDd-fg';
  var token = 'T1==cGFydG5lcl9pZD00NTYzMzExMiZzaWc9ZGQ4OWVkZjEwODg0ZmI4YWQ1ZGI4OGNjMDZmMDk5OTlkYTE3MmMxMjpzZXNzaW9uX2lkPTJfTVg0ME5UWXpNekV4TW41LU1UUTNNRFU0TlRBNE5UQTBOMzVOZUZBd05HZE5hemh2UlZkMVZFNVpMM1pKZVV0bE5EZC1mZyZjcmVhdGVfdGltZT0xNDcwNTg1MjYxJm5vbmNlPTAuODg2NTc4OTUwMDk5NjQ3JnJvbGU9cHVibGlzaGVyJmV4cGlyZV90aW1lPTE0NzA2NzE2NTk=';

  var subscriberOptions = {width: '100%', height: 800, insertMode: 'append'};
  var publisherOptions = {width: 200, height: 200, insertMode: 'append'};

  var session = OT.initSession(apiKey, sessionId)

  .connect(token, function(error) {
    var publisher = OT.initPublisher('publisherId', publisherOptions);
    session.publish(publisher);
  })

  .on('streamCreated', function(event) {
    session.subscribe(event.stream, 'subscriberId', subscriberOptions);
  });

  document.addEventListener('keydown', function(event) {
    if(event.keyCode == 37) {
      alert('Left was pressed');
    }
    else if(event.keyCode == 38) {
      alert('Up was pressed');
    }
    else if(event.keyCode == 39) {
      alert('Right was pressed');
    }
    else if(event.keyCode == 40) {
      alert('Down was pressed');
    }
  });

  </script>
</body>
</html>
